{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500&family=Mynerve&family=Poppins:wght@100;500&family=Plus+Jakarta+Sans:wght@300&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="{% static 'men.css' %}">
</head>

<body>
  <div class="main__logo">
    <a href="http://127.0.0.1:8000/"><img src="{% static 'images/ThisIsWhyI_mBroke-removebg-preview.png' %}" class="header__img"></a>
  </div>

  <section class="search__drop">
    <div class="line">
      <div class="orange"></div>
      <div class="yellow"></div>
      <div class="lblue"></div>
      <div class="blue"></div>
      <div class="dblue"></div>
    </div>
    <div class="drop__containers">
      <div class="dropdown" onmouseover="showRecipientOptions()" onmouseout="hideRecipientOptions()">
        <button class="dropbtn btn-1">GIFTS BY RECIPTENT
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
          <a href="/men">Men</a>
          <a href="/women">Women</a>
          <a href="/dad">Dad</a>
          <a href="/mom">Mom</a>
          <a href="/kids">Kids</a>
          <a href="/teenboys">Teen Boys</a>
          <a href="/teengirls">Teen Girls</a>
          <a href="/boyfriend">Boyfriend</a>
          <a href="/girlfriend">Girlfriend</a>
        </div>
      </div>


      <div class="dropdown">
        <button class="dropbtn">GIFTS BY OCCASION
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
          <a href="/fathersday">Father's Day</a>
          <a href="/mothersday">Mother's Day</a>
          <a href="/valentinesday">Valetines Day</a>
          <a href="/aniversary">Anniversary</a>
          <a href="/birthdaygift">Birthday Gifts</a>
          <a href="/graduation">Graduation</a>
          <a href="/engagement">Engagement</a>
          <a href="/wedding">Wedding</a>
        </div>
      </div>


      <div class="dropdown">
        <button class="dropbtn">GIFTS BY CATEOGERY
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
          <a href="/funny">Funny</a>
          <a href="/gaggifts">Gag Gifts</a>
          <a href="/geek">Geek</a>
          <a href="/gamers">Gamers</a>
          <a href="/food">Food</a>
          <a href="/travel">Travel</a>
          <a href="/movie">Movie</a>
        </div>
      </div>
    </div>
    <div class="line">
      <div class="orange"></div>
      <div class="yellow"></div>
      <div class="lblue"></div>
      <div class="blue"></div>
      <div class="dblue"></div>
    </div>

  </section>

  <section class="men_section">
    {% for op in values %}
    <div class="blog-box">
      <h1>{{op.name}}</h1>
    </div>
    <div class="background">
      <img class="men" src="{{op.photo}}">
    </div>
    <div>
      <p class="men-body">{{op.description|safe}} </p>
    </div>
    {% endfor %}
  </section>

  <section class="search__filter">
    <div class="search__container">
      <form action="search" class="search-bar" method="post">
        {% csrf_token %}
        <input type="text" placeholder="search here" name="query" list="val" value="{{v}}" style="appearance:none;">
        <datalist id="val">
          {%for i in val%}
          <option value="{{i.name}}"></option>
          {% endfor %}
        </datalist><button type="submit"><i class="fa fa-search"></i></button>
      </form>
    </div>
    <div class="filter__container">
      <div class="price range">
        <header>
          <h2>Price Range</h2>
          <p>Use slider or enter min and max price</p>
        </header>
        <div class="price-input">
          <div class="field">
            <span>Min</span>
            <input type="number" class="input-min inpu" value="2500">
          </div>
          <div class="separator">-</div>
          <div class="field">
            <span>Max</span>
            <input type="number" class="input-max inpu" value="7500">
          </div>
        </div>
        <div class="slider">
          <div class="progress"></div>
        </div>
        <div class="range-input">
          <input type="range" class="range-min" min="0" max="10000" value="2500" step="100">
          <input type="range" class="range-max" min="0" max="10000" value="7500" step="100">
        </div>
      </div>
    </div>
    <script>
      const rangeInput = document.querySelectorAll(".range-input input"),
      priceInput = document.querySelectorAll(".price-input input"),
      range = document.querySelector(".slider .progress");
      let priceGap = 1000;
      priceInput.forEach(input =>{
          input.addEventListener("input", e =>{
              let minPrice = parseInt(priceInput[0].value),
              maxPrice = parseInt(priceInput[1].value);
              
              if((maxPrice - minPrice >= priceGap) && maxPrice <= rangeInput[1].max){
                  if(e.target.className === "input-min"){
                      rangeInput[0].value = minPrice;
                      range.style.left = ((minPrice / rangeInput[0].max) * 100) + "%";
                  }else{
                      rangeInput[1].value = maxPrice;
                      range.style.right = 100 - (maxPrice / rangeInput[1].max) * 100 + "%";
                  }
              }
          });
      });
      rangeInput.forEach(input =>{
          input.addEventListener("input", e =>{
              let minVal = parseInt(rangeInput[0].value),
              maxVal = parseInt(rangeInput[1].value);
              if((maxVal - minVal) < priceGap){
                  if(e.target.className === "range-min"){
                      rangeInput[0].value = maxVal - priceGap
                  }else{
                      rangeInput[1].value = minVal + priceGap;
                  }
              }else{
                  priceInput[0].value = minVal;
                  priceInput[1].value = maxVal;
                  range.style.left = ((minVal / rangeInput[0].max) * 100) + "%";
                  range.style.right = 100 - (maxVal / rangeInput[1].max) * 100 + "%";
              }
          });
      });
    </script>
  </section>

  <section class="item__layout2">
    <div id="single">
        {% for op in value %}
          <div class="single-content">
              <div style="align-items:center;">
              <img src="{{op.pic}}" alt="" class="img1">
              <div class="top">#{{forloop.counter}}</div>
              </div>
              <div  class="inner-two">
                <h3> {{op.name}}</h3>
                <div>
                <h1>$ {{op.rate}}</h1>
                <button><a href="{{op.link}}" style="text-decoration: none; color:white;">Check It out</a></button>
                  </div>
                <p>{{op.des}}</p>
              </div>
            </div> 
            {% endfor %}       
          </div>
  </section>

</body>

</html>